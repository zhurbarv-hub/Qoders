# -*- coding: utf-8 -*-
"""
–°–µ—Ä–≤–∏—Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Telegram –±–æ—Ç–∞
–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –≤ –∫—Ä–∞—Å–∏–≤–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
"""

from typing import Dict, List
from datetime import datetime

import logging
logger = logging.getLogger(__name__)


def format_deadline_notification(deadline: Dict, days: int) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–¥–ª–∞–π–Ω–µ
    
    Args:
        deadline (Dict): –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–¥–ª–∞–π–Ω–µ
        days (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
        
    Returns:
        str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    """
    try:
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —ç–º–æ–¥–∑–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É
        status_emoji = {
            'green': 'üü¢',
            'yellow': 'üü°',
            'red': 'üî¥',
            'expired': '‚ùå'
        }.get(deadline.get('status', 'green'), '‚ö™')
        
        # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É
        if deadline.get('expiration_date'):
            exp_date = deadline['expiration_date'].strftime('%d.%m.%Y') if hasattr(deadline['expiration_date'], 'strftime') else str(deadline['expiration_date'])
        else:
            exp_date = '–ù–µ —É–∫–∞–∑–∞–Ω–∞'
            
        message = (
            f"{status_emoji} <b>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–µ–¥–ª–∞–π–Ω–µ</b>\n\n"
            f"<b>–ö–ª–∏–µ–Ω—Ç:</b> {deadline.get('client_name', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')} (–ò–ù–ù: {deadline.get('client_inn', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')})\n"
            f"<b>–°–µ—Ä–≤–∏—Å:</b> {deadline.get('deadline_type_name', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')}\n"
            f"<b>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</b> {exp_date}\n"
            f"<b>–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π:</b> {deadline.get('days_remaining', days)}\n\n"
            f"‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏–º–∏—Ç–µ –º–µ—Ä—ã!"
        )
        
        return message
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: {e}")
        return "‚ö†Ô∏è –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–µ–¥–ª–∞–π–Ω–µ\n\n–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è"


def format_deadline_list(deadlines: List[Dict]) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤
    
    Args:
        deadlines (List[Dict]): –°–ø–∏—Å–æ–∫ –¥–µ–¥–ª–∞–π–Ω–æ–≤
        
    Returns:
        str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
    """
    try:
        if not deadlines:
            return "üì≠ –ù–µ—Ç –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –¥–µ–¥–ª–∞–π–Ω–æ–≤"
            
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —ç–º–æ–¥–∑–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É
        status_emoji = {
            'green': 'üü¢',
            'yellow': 'üü°',
            'red': 'üî¥',
            'expired': '‚ùå'
        }
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
        message = "<b>üìã –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –¥–µ–¥–ª–∞–π–Ω–æ–≤:</b>\n\n"
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–π –¥–µ–¥–ª–∞–π–Ω
        for i, deadline in enumerate(deadlines, 1):
            emoji = status_emoji.get(deadline.get('status', 'green'), '‚ö™')
            
            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É
            if deadline.get('expiration_date'):
                exp_date = deadline['expiration_date'].strftime('%d.%m.%Y') if hasattr(deadline['expiration_date'], 'strftime') else str(deadline['expiration_date'])
            else:
                exp_date = '–ù–µ —É–∫–∞–∑–∞–Ω–∞'
                
            message += (
                f"{i}. {emoji} <b>{deadline.get('client_name', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')}</b> "
                f"({deadline.get('client_inn', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')})\n"
                f"   {deadline.get('deadline_type_name', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')} - "
                f"{exp_date} ({deadline.get('days_remaining', 'N/A')} –¥–Ω–µ–π)\n\n"
            )
            
        return message.strip()
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤: {e}")
        return "‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤"


def format_statistics(stats: Dict) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
    
    Args:
        stats (Dict): –°–ª–æ–≤–∞—Ä—å —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
        
    Returns:
        str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    """
    try:
        message = "<b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã:</b>\n\n"
        
        # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
        message += f"üë• <b>–ö–ª–∏–µ–Ω—Ç—ã:</b>\n"
        message += f"   –í—Å–µ–≥–æ: {stats.get('total_clients', 0)}\n"
        message += f"   –ê–∫—Ç–∏–≤–Ω—ã–µ: {stats.get('active_clients', 0)}\n\n"
        
        message += f"üìÖ <b>–î–µ–¥–ª–∞–π–Ω—ã:</b>\n"
        message += f"   –í—Å–µ–≥–æ: {stats.get('total_deadlines', 0)}\n"
        message += f"   –ê–∫—Ç–∏–≤–Ω—ã–µ: {stats.get('active_deadlines', 0)}\n\n"
        
        # –°—Ç–∞—Ç—É—Å—ã –¥–µ–¥–ª–∞–π–Ω–æ–≤
        message += f"üö¶ <b>–°—Ç–∞—Ç—É—Å—ã –¥–µ–¥–ª–∞–π–Ω–æ–≤:</b>\n"
        message += f"   üü¢ –•–æ—Ä–æ—à–æ (–±–æ–ª—å—à–µ 14 –¥–Ω–µ–π): {stats.get('status_green', 0)}\n"
        message += f"   üü° –í–Ω–∏–º–∞–Ω–∏–µ (7-14 –¥–Ω–µ–π): {stats.get('status_yellow', 0)}\n"
        message += f"   üî¥ –°—Ä–æ—á–Ω–æ (–º–µ–Ω—å—à–µ 7 –¥–Ω–µ–π): {stats.get('status_red', 0)}\n"
        message += f"   ‚ùå –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ: {stats.get('status_expired', 0)}\n"
        
        # –î–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É
        timestamp = datetime.now().strftime('%d.%m.%Y %H:%M')
        message += f"\nüïí –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {timestamp}"
        
        return message
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: {e}")
        return "‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"


def format_welcome_message(user_role: str) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    
    Args:
        user_role (str): –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ('admin' –∏–ª–∏ 'client')
        
    Returns:
        str: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    """
    if user_role == 'admin':
        message = (
            "üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ –ö–ö–¢!</b>\n\n"
            "–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ <b>–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</b>.\n\n"
            "<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "/start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ\n"
            "/help - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º\n"
            "/status - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã\n"
            "/list - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–µ–¥–ª–∞–π–Ω–æ–≤\n"
            "/today - –î–µ–¥–ª–∞–π–Ω—ã —Å–µ–≥–æ–¥–Ω—è\n"
            "/week - –î–µ–¥–ª–∞–π–Ω—ã –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ\n"
            "/check - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤\n"
            "/search - –ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ –ò–ù–ù/–Ω–∞–∑–≤–∞–Ω–∏—é\n"
            "/settings - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã\n"
            "/export - –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ JSON\n\n"
            "‚ö†Ô∏è –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–±–æ –≤—Å–µ—Ö –¥–µ–¥–ª–∞–π–Ω–∞—Ö."
        )
    else:
        message = (
            "üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ –ö–ö–¢!</b>\n\n"
            "–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ <b>–∫–ª–∏–µ–Ω—Ç</b>.\n\n"
            "<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "/start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ\n"
            "/help - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º\n"
            "/list - –°–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö –¥–µ–¥–ª–∞–π–Ω–æ–≤\n"
            "/today - –í–∞—à–∏ –¥–µ–¥–ª–∞–π–Ω—ã —Å–µ–≥–æ–¥–Ω—è\n"
            "/week - –í–∞—à–∏ –¥–µ–¥–ª–∞–π–Ω—ã –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ\n"
            "/settings - –í–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n"
            "/mute - –û—Ç–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n"
            "/unmute - –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n"
            "/export - –≠–∫—Å–ø–æ—Ä—Ç –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ JSON\n\n"
            "‚ÑπÔ∏è –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –æ –¥–µ–¥–ª–∞–π–Ω–∞—Ö –≤–∞—à–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞."
        )
        
    return message


def format_help_message(user_role: str) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
    
    Args:
        user_role (str): –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ('admin' –∏–ª–∏ 'client')
        
    Returns:
        str: –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å–ø—Ä–∞–≤–∫–æ–π
    """
    if user_role == 'admin':
        message = (
            "<b>‚ùì –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)</b>\n\n"
            "<b>–û—Å–Ω–æ–≤–Ω—ã–µ:</b>\n"
            "/start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n"
            "/help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞\n"
            "/settings - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã\n\n"
            "<b>–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ–¥–ª–∞–π–Ω–æ–≤:</b>\n"
            "/list - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–µ–¥–ª–∞–π–Ω–æ–≤\n"
            "/today - –î–µ–¥–ª–∞–π–Ω—ã, –∏—Å—Ç–µ–∫–∞—é—â–∏–µ —Å–µ–≥–æ–¥–Ω—è\n"
            "/week - –î–µ–¥–ª–∞–π–Ω—ã –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 7 –¥–Ω–µ–π\n\n"
            "<b>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ:</b>\n"
            "/status - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã\n"
            "/check - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\n"
            "/search - –ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ (–ò–ù–ù/–Ω–∞–∑–≤–∞–Ω–∏–µ)\n"
            "/export - –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ JSON\n\n"
            "‚ÑπÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–±–æ –≤—Å–µ—Ö –¥–µ–¥–ª–∞–π–Ω–∞—Ö."
        )
    else:
        message = (
            "<b>‚ùì –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º (–∫–ª–∏–µ–Ω—Ç)</b>\n\n"
            "<b>–û—Å–Ω–æ–≤–Ω—ã–µ:</b>\n"
            "/start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n"
            "/help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞\n"
            "/settings - –í–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n\n"
            "<b>–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ–¥–ª–∞–π–Ω–æ–≤:</b>\n"
            "/list - –°–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–µ–¥–ª–∞–π–Ω–æ–≤\n"
            "/today - –í–∞—à–∏ –¥–µ–¥–ª–∞–π–Ω—ã, –∏—Å—Ç–µ–∫–∞—é—â–∏–µ —Å–µ–≥–æ–¥–Ω—è\n"
            "/week - –í–∞—à–∏ –¥–µ–¥–ª–∞–π–Ω—ã –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 7 –¥–Ω–µ–π\n\n"
            "<b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏:</b>\n"
            "/mute [–¥–Ω–∏] - –û—Ç–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7 –¥–Ω–µ–π)\n"
            "/unmute - –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ\n"
            "/export - –≠–∫—Å–ø–æ—Ä—Ç –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ JSON\n\n"
            "‚ÑπÔ∏è –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –æ –¥–µ–¥–ª–∞–π–Ω–∞—Ö —Å–≤–æ–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞."
        )
        
    return message


if __name__ == "__main__":
    # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞
    print("=" * 50)
    print("–¢–ï–°–¢ –°–ï–†–í–ò–°–ê –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø")
    print("=" * 50)
    
    # –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–¥–ª–∞–π–Ω–µ
    test_deadline = {
        'deadline_id': 1,
        'client_name': '–û–û–û "–†–æ–º–∞—à–∫–∞"',
        'client_inn': '1234567890',
        'deadline_type_name': '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ö–ö–¢',
        'expiration_date': datetime(2024, 12, 31),
        'days_remaining': 14,
        'status': 'yellow'
    }
    
    notification = format_deadline_notification(test_deadline, 14)
    print("–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–µ–¥–ª–∞–π–Ω–µ:")
    print(notification)
    print()
    
    # –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤
    test_deadlines = [test_deadline]
    deadline_list = format_deadline_list(test_deadlines)
    print("–°–ø–∏—Å–æ–∫ –¥–µ–¥–ª–∞–π–Ω–æ–≤:")
    print(deadline_list)
    print()
    
    # –¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    test_stats = {
        'total_clients': 15,
        'active_clients': 12,
        'total_deadlines': 45,
        'active_deadlines': 38,
        'status_green': 20,
        'status_yellow': 12,
        'status_red': 6,
        'status_expired': 0
    }
    
    stats_message = format_statistics(test_stats)
    print("–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:")
    print(stats_message)
    print()
    
    # –¢–µ—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    admin_welcome = format_welcome_message('admin')
    client_welcome = format_welcome_message('client')
    print("–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:")
    print(admin_welcome)
    print()
    print("–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç–∞:")
    print(client_welcome)
    
    print("=" * 50)
    print("‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ")
    print("=" * 50)